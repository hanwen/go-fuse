{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "85d3fbf7_a7212b20",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 19,
      "author": {
        "id": 1007980
      },
      "writtenOn": "2023-01-24T21:56:25Z",
      "side": 1,
      "message": "this doubles the number of requests for the default config on older kernels. Could we leave the behavior as is? Maybe try to set both to 128k, but cap write at 64k because that\u0027s what the kernel supports?",
      "range": {
        "startLine": 19,
        "startChar": 30,
        "endLine": 19,
        "endChar": 55
      },
      "revId": "2b129bf86694b7c167938cb7713f576c6150074c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c40ba62_b7def836",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 19,
      "author": {
        "id": 1007981
      },
      "writtenOn": "2023-01-25T06:49:38Z",
      "side": 1,
      "message": "How about increasing the default to 128k? Older kernels support 128k. I think the 64k is arbitrary ( https://github.com/hanwen/go-fuse/blob/915cf5413cdef5370ae3f953f8eb4cd9ac176d5c/fuse/server.go#L170 ).",
      "parentUuid": "85d3fbf7_a7212b20",
      "range": {
        "startLine": 19,
        "startChar": 30,
        "endLine": 19,
        "endChar": 55
      },
      "revId": "2b129bf86694b7c167938cb7713f576c6150074c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f57b559_59dcd3ca",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 19,
      "author": {
        "id": 1007980
      },
      "writtenOn": "2023-01-25T17:52:30Z",
      "side": 1,
      "message": "AFAICR, read and write have different max sizes (128k for the one, and 64 for the other, I forgot which), so for optimal performance on older kernels both settings can\u0027t be the same. \n\nI am afraid I don\u0027t have older kernels readily available to prove this, unfortunately.",
      "parentUuid": "1c40ba62_b7def836",
      "range": {
        "startLine": 19,
        "startChar": 30,
        "endLine": 19,
        "endChar": 55
      },
      "revId": "2b129bf86694b7c167938cb7713f576c6150074c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f2476cfb_d760dcde",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 19,
      "author": {
        "id": 1007981
      },
      "writtenOn": "2023-01-25T18:45:00Z",
      "side": 1,
      "message": "How old are we talking? I tested on https://app.vagrantup.com/debian/boxes/buster64 , which has kernel 4.19, and 128k works (the tests verify this)",
      "parentUuid": "6f57b559_59dcd3ca",
      "range": {
        "startLine": 19,
        "startChar": 30,
        "endLine": 19,
        "endChar": 55
      },
      "revId": "2b129bf86694b7c167938cb7713f576c6150074c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cfe5fadf_38604a2c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 19,
      "author": {
        "id": 1007981
      },
      "writtenOn": "2023-01-25T19:41:15Z",
      "side": 1,
      "message": "Also works fine on https://app.vagrantup.com/debian/boxes/stretch64 (Linux 4.9.0). On the next older one, https://app.vagrantup.com/debian/boxes/jessie64 , I could not ssh in because \"sign_and_send_pubkey: no mutual signature supported\" and I stopped there ðŸ˜Š",
      "parentUuid": "f2476cfb_d760dcde",
      "range": {
        "startLine": 19,
        "startChar": 30,
        "endLine": 19,
        "endChar": 55
      },
      "revId": "2b129bf86694b7c167938cb7713f576c6150074c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d011cd6_a04ce310",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 19,
      "author": {
        "id": 1007980
      },
      "writtenOn": "2023-01-26T21:09:29Z",
      "side": 1,
      "message": "confirm on 4.15. \n\nI\u0027m sure it was an issue at some point, but it\u0027s too far back\n\n```\n$ uname -a\nLinux XXX 4.15.0-142-generic #146~16.04.1-Ubuntu SMP Tue Apr 13 09:27:15 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux\n\n$ ./fs.test  -test.run TestMaxWrite/MaxWr131072.MaxRa131072 -test.v\n..\n\n21:01:49.642810 rx 63: READ n2 {Fh 2 [2097152 +131072)  L 0 RDWR,0x8000} \n21:01:49.642826 tx 63:     OK,  131072b data \"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\"...\n    maxwrite_test.go:223: Buffered I/O largestRead: have\u003d131072\n21:01:49.643040 rx 64: GETXATTR n2 {sz 0} [\"security.capability\"] 20b\n21:01:49.643076 tx 64:     61\u003dno data available\n21:01:49.643208 rx 65: WRITE n2 {Fh 2 [0 +131072)  L 0 RDWR,0x8000} \"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\"... 131072b\n21:01:49.643227 tx 65:     OK\n```\n\nlet\u0027s make both 128k, and see what breaks.",
      "parentUuid": "cfe5fadf_38604a2c",
      "range": {
        "startLine": 19,
        "startChar": 30,
        "endLine": 19,
        "endChar": 55
      },
      "revId": "2b129bf86694b7c167938cb7713f576c6150074c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba42d7d3_46c31b60",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 19,
      "author": {
        "id": 1007981
      },
      "writtenOn": "2023-01-27T20:40:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7d011cd6_a04ce310",
      "range": {
        "startLine": 19,
        "startChar": 30,
        "endLine": 19,
        "endChar": 55
      },
      "revId": "2b129bf86694b7c167938cb7713f576c6150074c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "46b59e79_47f1ce2d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 19,
      "author": {
        "id": 1007980
      },
      "writtenOn": "2023-01-27T21:29:28Z",
      "side": 1,
      "message": "Ack\n\n(if you use the Ack/Done button, the comment should be resolved, which takes it off the TODO list.)",
      "parentUuid": "ba42d7d3_46c31b60",
      "range": {
        "startLine": 19,
        "startChar": 30,
        "endLine": 19,
        "endChar": 55
      },
      "revId": "2b129bf86694b7c167938cb7713f576c6150074c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7615a152_fcbf5eb7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 1007981
      },
      "writtenOn": "2023-01-24T21:55:08Z",
      "side": 1,
      "message": "Done, PTAL.",
      "revId": "2b129bf86694b7c167938cb7713f576c6150074c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}